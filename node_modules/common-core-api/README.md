### common-core-api

Implementation of http://commonstandardsproject.com api for Node.js/Npm

Git for common-standards-project: https://github.com/commoncurriculum/common-standards-project

Uses https://www.algolia.com for search as instructed in http://commonstandardsproject.com docs

algoliasearch-client-js -> https://github.com/algolia/algoliasearch-client-js 
    

### Api
<font style="font-family:monospace;">
    <font color="#fa2a52">const</font> commonCoreApi = <font color="#5f9ea0">require</font>( <font color="#bb9c30">"common-core-api"</font> )<br>
    <font style="color:#9400d3">commonCoreApi</font><font color="#6e2094">.URL</font>
    
    Url {
        protocol: 'http:',
        slashes: true,
        auth: null,
        host: 'commonstandardsproject.com',
        port: null,
        hostname: 'commonstandardsproject.com',
        hash: null,
        search: null,
        query: null,
        pathname: '/api/v1',
        path: '/api/v1',
        href: 'http://commonstandardsproject.com/api/v1' 
    }
      
   <font style="color:#9400d3">commonCoreApi</font><font color="#6e2094">.schemas</font>
    
    { 
        jurs: 
           { event: 'jurs',
             name: 'jurisdictions',
             description: 'Doc sample of request result',
             doc: [Getter] },
          sets: 
           { event: 'sets',
             name: 'standard-sets',
             description: 'Doc sample of request result',
             doc: [Getter] },
          search: 
           { event: 'search',
             name: 'algolia-search',
             description: 'Search result sample from algolia-search',
             doc: [Getter] } 
    }


</font>

#### Connect

<font style="font-family:monospace;">
    <i style="color: #8da19a;">// Default options</i>
    <font color="#fa2a52">const</font> optionalOptions = { <br><br>
    &nbsp;&nbsp;<i style="color: #8da19a;margin-left:2em;">// return only Objects (sans Array) parse JSON and if object has "data" property return it unless its Array</i>
    &nbsp;&nbsp;<font color="#bb9c30;">"onlyData"</font>: <b style="color:#9400d3">true</b>,<br>
    &nbsp;&nbsp;<i style="color: #8da19a;margin-left:2em;">// return promise instead of using yield</i>
    &nbsp;&nbsp;<font color="#bb9c30;">"promises"</font>: <b style="color:#9400d3">false</b>
    <br><br>}
    <br>
    <font color="#fa2a52">const</font> commonCore = <font color="#9400d3">commonCoreApi</font>( <font color="#bb9c30">"api-key"</font> , <font color="#bb9c30">"algolia-id"</font> , <font color="#bb9c30">"algolia-key"</font> , <font style="color:#9400d3">optionalOptions</font> )

</font>

#### Use
<font style="font-family:monospace;"><font color="#fa2a52">const</font> commonCore = <font color="#5f9ea0">require</font>( <font color="#bb9c30">"common-core-api"</font> )( <font color="#bb9c30">"api-key"</font> , <font color="#bb9c30">"algolia-id"</font> , <font color="#bb9c30">"algolia-key"</font> )
<br>
Get index for jurisdictions
<font color="#fa2a52">var</font> reloadThem = <b style="color:#9400d3">false</b>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.jurisdictions( reloadThem )</font><br>
<i style="color: #8da19a;">// ( title.indexOf( search[i] ) >= 0 return true; , except )</i>
<i style="color: #8da19a;">// ( search , except.indexOf( title ) >= 0 return false; )</i>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.states( ["A"] , ["Alaska"] )</font>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.orgs( search , except )</font>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.nations( search , except )</font>
<br>
<i style="color: #8da19a;">// Get state by title</i>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.state( <font color="#bb9c30">"Alaska"</font> )</font>
<br>
Get jurisdiction
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.jurisdictions( <font color="#bb9c30">"jurisdiction.id"</font> )</font>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.j( <font color="#bb9c30">"jurisdiction.id"</font> )</font>
<br>
Get standard_set
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.standard_sets( <font color="#bb9c30">"standard_set.id"</font> )</font>
<font style="color:#9400d3">commonCore</font><font color="#6e2094">.ss( <font color="#bb9c30">"standard_set.id"</font> )</font>

</font>


#### Editing
Currently no methods for interfacing with editing

    
    
